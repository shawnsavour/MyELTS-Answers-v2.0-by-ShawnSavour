/*
  The MIT License (MIT)

  Copyright (c) 2007-2013 Einar Lielmanis and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

!function(){function b(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function c(a){return a.replace(/^\s+|\s+$/g,"")}function d(a,b){"use strict";var c=new f(a,b);return c.beautify()}function f(a,d){"use strict";function w(a,b){var c=0;a&&(c=a.indentation_level,!f.just_added_newline()&&a.line_indent_level>c&&(c=a.line_indent_level));var d={mode:b,parent:a,last_text:a?a.last_text:"",last_word:a?a.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:c,line_indent_level:a?a.line_indent_level:c,start_line_index:f.get_line_number(),ternary_depth:0};return d}function y(a){var b=a.newlines,c=u.keep_array_indentation&&H(p.mode);if(c)for(d=0;b>d;d+=1)B(d>0);else if(u.max_preserve_newlines&&b>u.max_preserve_newlines&&(b=u.max_preserve_newlines),u.preserve_newlines&&a.newlines>1){B();for(var d=1;b>d;d+=1)B(!0)}l=a,t[l.type]()}function z(a){a=a.replace(/\x0d/g,"");for(var b=[],c=a.indexOf("\n");-1!==c;)b.push(a.substring(0,c)),a=a.substring(c+1),c=a.indexOf("\n");return a.length&&b.push(a),b}function A(a){if(a=void 0===a?!1:a,!f.just_added_newline())if(u.preserve_newlines&&l.wanted_newline||a)B(!1,!0);else if(u.wrap_line_length){var b=f.current_line.get_character_count()+l.text.length+(f.space_before_token?1:0);b>=u.wrap_line_length&&B(!1,!0)}}function B(a,b){if(!b&&";"!==p.last_text&&","!==p.last_text&&"="!==p.last_text&&"TK_OPERATOR"!==m)for(;p.mode===e.Statement&&!p.if_block&&!p.do_block;)J();f.add_new_line(a)&&(p.multiline_frame=!0)}function C(){f.just_added_newline()&&(u.keep_array_indentation&&H(p.mode)&&l.wanted_newline?(f.current_line.push(l.whitespace_before),f.space_before_token=!1):f.set_indent(p.indentation_level)&&(p.line_indent_level=p.indentation_level))}function D(a){a=a||l.text,C(),f.add_token(a)}function E(){p.indentation_level+=1}function F(){p.indentation_level>0&&(!p.parent||p.indentation_level>p.parent.indentation_level)&&(p.indentation_level-=1)}function G(a){p?(r.push(p),q=p):q=w(null,a),p=w(q,a)}function H(a){return a===e.ArrayLiteral}function I(a){return b(a,[e.Expression,e.ForInitializer,e.Conditional])}function J(){r.length>0&&(q=p,p=r.pop(),q.mode===e.Statement&&f.remove_redundant_indentation(q))}function K(){return p.parent.mode===e.ObjectLiteral&&p.mode===e.Statement&&(":"===p.last_text&&0===p.ternary_depth||"TK_RESERVED"===m&&b(p.last_text,["get","set"]))}function L(){return"TK_RESERVED"===m&&b(p.last_text,["var","let","const"])&&"TK_WORD"===l.type||"TK_RESERVED"===m&&"do"===p.last_text||"TK_RESERVED"===m&&"return"===p.last_text&&!l.wanted_newline||"TK_RESERVED"===m&&"else"===p.last_text&&("TK_RESERVED"!==l.type||"if"!==l.text)||"TK_END_EXPR"===m&&(q.mode===e.ForInitializer||q.mode===e.Conditional)||"TK_WORD"===m&&p.mode===e.BlockStatement&&!p.in_case&&"--"!==l.text&&"++"!==l.text&&"TK_WORD"!==l.type&&"TK_RESERVED"!==l.type||p.mode===e.ObjectLiteral&&(":"===p.last_text&&0===p.ternary_depth||"TK_RESERVED"===m&&b(p.last_text,["get","set"]))?(G(e.Statement),E(),"TK_RESERVED"===m&&b(p.last_text,["var","let","const"])&&"TK_WORD"===l.type&&(p.declaration_statement=!0),K()||A("TK_RESERVED"===l.type&&b(l.text,["do","for","if","while"])),!0):!1}function M(a,b){for(var d=0;d<a.length;d++){var e=c(a[d]);if(e.charAt(0)!==b)return!1}return!0}function N(a,b){for(var e,c=0,d=a.length;d>c;c++)if(e=a[c],e&&0!==e.indexOf(b))return!1;return!0}function O(a){return b(a,["case","return","do","if","throw","else"])}function P(a){var b=i+(a||0);return 0>b||b>=g.length?null:g[b]}function Q(){L();var a=e.Expression;if("["===l.text){if("TK_WORD"===m||")"===p.last_text)return"TK_RESERVED"===m&&b(p.last_text,k.line_starters)&&(f.space_before_token=!0),G(a),D(),E(),u.space_in_paren&&(f.space_before_token=!0),void 0;a=e.ArrayLiteral,H(p.mode)&&("["===p.last_text||","===p.last_text&&("]"===n||"}"===n))&&(u.keep_array_indentation||B())}else"TK_RESERVED"===m&&"for"===p.last_text?a=e.ForInitializer:"TK_RESERVED"===m&&b(p.last_text,["if","while"])&&(a=e.Conditional);";"===p.last_text||"TK_START_BLOCK"===m?B():"TK_END_EXPR"===m||"TK_START_EXPR"===m||"TK_END_BLOCK"===m||"."===p.last_text?A(l.wanted_newline):"TK_RESERVED"===m&&"("===l.text||"TK_WORD"===m||"TK_OPERATOR"===m?"TK_RESERVED"===m&&("function"===p.last_word||"typeof"===p.last_word)||"*"===p.last_text&&"function"===n?u.space_after_anon_function&&(f.space_before_token=!0):"TK_RESERVED"!==m||!b(p.last_text,k.line_starters)&&"catch"!==p.last_text||u.space_before_conditional&&(f.space_before_token=!0):f.space_before_token=!0,"("===l.text&&("TK_EQUALS"===m||"TK_OPERATOR"===m)&&(K()||A()),G(a),D(),u.space_in_paren&&(f.space_before_token=!0),E()}function R(){for(;p.mode===e.Statement;)J();p.multiline_frame&&A("]"===l.text&&H(p.mode)&&!u.keep_array_indentation),u.space_in_paren&&("TK_START_EXPR"!==m||u.space_in_empty_paren?f.space_before_token=!0:(f.trim(),f.space_before_token=!1)),"]"===l.text&&u.keep_array_indentation?(D(),J()):(J(),D()),f.remove_redundant_indentation(q),p.do_while&&q.mode===e.Conditional&&(q.mode=e.Expression,p.do_block=!1,p.do_while=!1)}function S(){var a=P(1),c=P(2);c&&(":"===c.text&&b(a.type,["TK_STRING","TK_WORD","TK_RESERVED"])||b(a.text,["get","set"])&&b(c.type,["TK_WORD","TK_RESERVED"]))?b(n,["class","interface"])?G(e.BlockStatement):G(e.ObjectLiteral):G(e.BlockStatement);var d=!a.comments_before.length&&"}"===a.text,g=d&&"function"===p.last_word&&"TK_END_EXPR"===m;"expand"===u.brace_style||"none"===u.brace_style&&l.wanted_newline?"TK_OPERATOR"!==m&&(g||"TK_EQUALS"===m||"TK_RESERVED"===m&&O(p.last_text)&&"else"!==p.last_text)?f.space_before_token=!0:B(!1,!0):"TK_OPERATOR"!==m&&"TK_START_EXPR"!==m?"TK_START_BLOCK"===m?B():f.space_before_token=!0:H(q.mode)&&","===p.last_text&&("}"===n?f.space_before_token=!0:B()),D(),E()}function T(){for(;p.mode===e.Statement;)J();var a="TK_START_BLOCK"===m;"expand"===u.brace_style?a||B():a||(H(p.mode)&&u.keep_array_indentation?(u.keep_array_indentation=!1,B(),u.keep_array_indentation=!0):B()),J(),D()}function U(){if("TK_RESERVED"===l.type&&p.mode!==e.ObjectLiteral&&b(l.text,["set","get"])&&(l.type="TK_WORD"),"TK_RESERVED"===l.type&&p.mode===e.ObjectLiteral){var a=P(1);":"==a.text&&(l.type="TK_WORD")}if(L()||!l.wanted_newline||I(p.mode)||"TK_OPERATOR"===m&&"--"!==p.last_text&&"++"!==p.last_text||"TK_EQUALS"===m||!u.preserve_newlines&&"TK_RESERVED"===m&&b(p.last_text,["var","let","const","set","get"])||B(),p.do_block&&!p.do_while){if("TK_RESERVED"===l.type&&"while"===l.text)return f.space_before_token=!0,D(),f.space_before_token=!0,p.do_while=!0,void 0;B(),p.do_block=!1}if(p.if_block)if(p.else_block||"TK_RESERVED"!==l.type||"else"!==l.text){for(;p.mode===e.Statement;)J();p.if_block=!1,p.else_block=!1}else p.else_block=!0;if("TK_RESERVED"===l.type&&("case"===l.text||"default"===l.text&&p.in_case_statement))return B(),(p.case_body||u.jslint_happy)&&(F(),p.case_body=!1),D(),p.in_case=!0,p.in_case_statement=!0,void 0;if("TK_RESERVED"===l.type&&"function"===l.text&&((b(p.last_text,["}",";"])||f.just_added_newline()&&!b(p.last_text,["[","{",":","=",","]))&&(f.just_added_blankline()||l.comments_before.length||(B(),B(!0))),"TK_RESERVED"===m||"TK_WORD"===m?"TK_RESERVED"===m&&b(p.last_text,["get","set","new","return","export"])?f.space_before_token=!0:"TK_RESERVED"===m&&"default"===p.last_text&&"export"===n?f.space_before_token=!0:B():"TK_OPERATOR"===m||"="===p.last_text?f.space_before_token=!0:(p.multiline_frame||!I(p.mode)&&!H(p.mode))&&B()),("TK_COMMA"===m||"TK_START_EXPR"===m||"TK_EQUALS"===m||"TK_OPERATOR"===m)&&(K()||A()),"TK_RESERVED"===l.type&&b(l.text,["function","get","set"]))return D(),p.last_word=l.text,void 0;if(s="NONE","TK_END_BLOCK"===m?"TK_RESERVED"===l.type&&b(l.text,["else","catch","finally"])?"expand"===u.brace_style||"end-expand"===u.brace_style||"none"===u.brace_style&&l.wanted_newline?s="NEWLINE":(s="SPACE",f.space_before_token=!0):s="NEWLINE":"TK_SEMICOLON"===m&&p.mode===e.BlockStatement?s="NEWLINE":"TK_SEMICOLON"===m&&I(p.mode)?s="SPACE":"TK_STRING"===m?s="NEWLINE":"TK_RESERVED"===m||"TK_WORD"===m||"*"===p.last_text&&"function"===n?s="SPACE":"TK_START_BLOCK"===m?s="NEWLINE":"TK_END_EXPR"===m&&(f.space_before_token=!0,s="NEWLINE"),"TK_RESERVED"===l.type&&b(l.text,k.line_starters)&&")"!==p.last_text&&(s="else"===p.last_text||"export"===p.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===l.type&&b(l.text,["else","catch","finally"]))if("TK_END_BLOCK"!==m||"expand"===u.brace_style||"end-expand"===u.brace_style||"none"===u.brace_style&&l.wanted_newline)B();else{f.trim(!0);var c=f.current_line;"}"!==c.last()&&B(),f.space_before_token=!0}else"NEWLINE"===s?"TK_RESERVED"===m&&O(p.last_text)?f.space_before_token=!0:"TK_END_EXPR"!==m?"TK_START_EXPR"===m&&"TK_RESERVED"===l.type&&b(l.text,["var","let","const"])||":"===p.last_text||("TK_RESERVED"===l.type&&"if"===l.text&&"else"===p.last_text?f.space_before_token=!0:B()):"TK_RESERVED"===l.type&&b(l.text,k.line_starters)&&")"!==p.last_text&&B():p.multiline_frame&&H(p.mode)&&","===p.last_text&&"}"===n?B():"SPACE"===s&&(f.space_before_token=!0);D(),p.last_word=l.text,"TK_RESERVED"===l.type&&"do"===l.text&&(p.do_block=!0),"TK_RESERVED"===l.type&&"if"===l.text&&(p.if_block=!0)}function V(){for(L()&&(f.space_before_token=!1);p.mode===e.Statement&&!p.if_block&&!p.do_block;)J();D()}function W(){L()?f.space_before_token=!0:"TK_RESERVED"===m||"TK_WORD"===m?f.space_before_token=!0:"TK_COMMA"===m||"TK_START_EXPR"===m||"TK_EQUALS"===m||"TK_OPERATOR"===m?K()||A():B(),D()}function X(){L(),p.declaration_statement&&(p.declaration_assignment=!0),f.space_before_token=!0,D(),f.space_before_token=!0}function Y(){return p.declaration_statement?(I(p.parent.mode)&&(p.declaration_assignment=!1),D(),p.declaration_assignment?(p.declaration_assignment=!1,B(!1,!0)):f.space_before_token=!0,void 0):(D(),p.mode===e.ObjectLiteral||p.mode===e.Statement&&p.parent.mode===e.ObjectLiteral?(p.mode===e.Statement&&J(),B()):f.space_before_token=!0,void 0)}function Z(){if(L(),"TK_RESERVED"===m&&O(p.last_text))return f.space_before_token=!0,D(),void 0;if("*"===l.text&&"TK_DOT"===m)return D(),void 0;if(":"===l.text&&p.in_case)return p.case_body=!0,E(),D(),B(),p.in_case=!1,void 0;if("::"===l.text)return D(),void 0;!l.wanted_newline||"--"!==l.text&&"++"!==l.text||B(!1,!0),"TK_OPERATOR"===m&&A();var a=!0,c=!0;b(l.text,["--","++","!","~"])||b(l.text,["-","+"])&&(b(m,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||b(p.last_text,k.line_starters)||","===p.last_text)?(a=!1,c=!1,";"===p.last_text&&I(p.mode)&&(a=!0),"TK_RESERVED"===m||"TK_END_EXPR"===m?a=!0:"TK_OPERATOR"===m&&(a=b(l.text,["--","-"])&&b(p.last_text,["--","-"])||b(l.text,["++","+"])&&b(p.last_text,["++","+"])),p.mode!==e.BlockStatement&&p.mode!==e.Statement||"{"!==p.last_text&&";"!==p.last_text||B()):":"===l.text?0===p.ternary_depth?a=!1:p.ternary_depth-=1:"?"===l.text?p.ternary_depth+=1:"*"===l.text&&"TK_RESERVED"===m&&"function"===p.last_text&&(a=!1,c=!1),f.space_before_token=f.space_before_token||a,D(),f.space_before_token=c}function $(){var b,a=z(l.text),d=!1,e=!1,g=l.whitespace_before,h=g.length;for(B(!1,!0),a.length>1&&(M(a.slice(1),"*")?d=!0:N(a.slice(1),g)&&(e=!0)),D(a[0]),b=1;b<a.length;b++)B(!1,!0),d?D(" "+c(a[b])):e&&a[b].length>h?D(a[b].substring(h)):f.add_token(a[b]);B(!1,!0)}function _(){f.space_before_token=!0,D(),f.space_before_token=!0}function ab(){l.wanted_newline?B(!1,!0):f.trim(!0),f.space_before_token=!0,D(),B(!1,!0)}function bb(){L(),"TK_RESERVED"===m&&O(p.last_text)?f.space_before_token=!0:A(")"===p.last_text&&u.break_chained_methods),D()}function cb(){D(),"\n"===l.text[l.text.length-1]&&B()}function db(){for(;p.mode===e.Statement;)J()}var f,i,k,l,m,n,o,p,q,r,s,t,u,g=[],v="";for(t={TK_START_EXPR:Q,TK_END_EXPR:R,TK_START_BLOCK:S,TK_END_BLOCK:T,TK_WORD:U,TK_RESERVED:U,TK_SEMICOLON:V,TK_STRING:W,TK_EQUALS:X,TK_OPERATOR:Z,TK_COMMA:Y,TK_BLOCK_COMMENT:$,TK_INLINE_COMMENT:_,TK_COMMENT:ab,TK_DOT:bb,TK_UNKNOWN:cb,TK_EOF:db},d=d?d:{},u={},void 0!==d.braces_on_own_line&&(u.brace_style=d.braces_on_own_line?"expand":"collapse"),u.brace_style=d.brace_style?d.brace_style:u.brace_style?u.brace_style:"collapse","expand-strict"===u.brace_style&&(u.brace_style="expand"),u.indent_size=d.indent_size?parseInt(d.indent_size,10):4,u.indent_char=d.indent_char?d.indent_char:" ",u.preserve_newlines=void 0===d.preserve_newlines?!0:d.preserve_newlines,u.break_chained_methods=void 0===d.break_chained_methods?!1:d.break_chained_methods,u.max_preserve_newlines=void 0===d.max_preserve_newlines?0:parseInt(d.max_preserve_newlines,10),u.space_in_paren=void 0===d.space_in_paren?!1:d.space_in_paren,u.space_in_empty_paren=void 0===d.space_in_empty_paren?!1:d.space_in_empty_paren,u.jslint_happy=void 0===d.jslint_happy?!1:d.jslint_happy,u.space_after_anon_function=void 0===d.space_after_anon_function?!1:d.space_after_anon_function,u.keep_array_indentation=void 0===d.keep_array_indentation?!1:d.keep_array_indentation,u.space_before_conditional=void 0===d.space_before_conditional?!0:d.space_before_conditional,u.unescape_strings=void 0===d.unescape_strings?!1:d.unescape_strings,u.wrap_line_length=void 0===d.wrap_line_length?0:parseInt(d.wrap_line_length,10),u.e4x=void 0===d.e4x?!1:d.e4x,u.end_with_newline=void 0===d.end_with_newline?!1:d.end_with_newline,u.jslint_happy&&(u.space_after_anon_function=!0),d.indent_with_tabs&&(u.indent_char=" ",u.indent_size=1),o="";u.indent_size>0;)o+=u.indent_char,u.indent_size-=1;var x=0;if(a&&a.length){for(;" "===a.charAt(x)||"    "===a.charAt(x);)v+=a.charAt(x),x+=1;a=a.substring(x)}m="TK_START_BLOCK",n="",f=new h(o,v),r=[],G(e.BlockStatement),this.beautify=function(){var b,c;for(k=new j(a,u,o),g=k.tokenize(),i=0;b=P();){for(var d=0;d<b.comments_before.length;d++)y(b.comments_before[d]);y(b),n=p.last_text,m=b.type,p.last_text=b.text,i+=1}return c=f.get_code(),u.end_with_newline&&(c+="\n"),c}}function g(a){var b=0,c=-1,d=[],e=!0;this.set_indent=function(d){b=a.baseIndentLength+d*a.indent_length,c=d},this.get_character_count=function(){return b},this.is_empty=function(){return e},this.last=function(){return this._empty?null:d[d.length-1]},this.push=function(a){d.push(a),b+=a.length,e=!1},this.remove_indent=function(){c>0&&(c-=1,b-=a.indent_length)},this.trim=function(){for(;" "===this.last();)d.pop(),b-=1;e=0===d.length},this.toString=function(){var b="";return this._empty||(c>=0&&(b=a.indent_cache[c]),b+=d.join("")),b}}function h(a,b){b=b||"",this.indent_cache=[b],this.baseIndentLength=b.length,this.indent_length=a.length;var c=[];this.baseIndentString=b,this.indent_string=a,this.current_line=null,this.space_before_token=!1,this.get_line_number=function(){return c.length},this.add_new_line=function(a){return 1===this.get_line_number()&&this.just_added_newline()?!1:a||!this.just_added_newline()?(this.current_line=new g(this),c.push(this.current_line),!0):!1},this.add_new_line(!0),this.get_code=function(){var a=c.join("\n").replace(/[\r\n\t ]+$/,"");return a},this.set_indent=function(a){if(c.length>1){for(;a>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(a),!0}return this.current_line.set_indent(0),!1},this.add_token=function(a){this.add_space_before_token(),this.current_line.push(a)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(a){if(!a.multiline_frame&&a.mode!==e.ForInitializer&&a.mode!==e.Conditional)for(var b=a.start_line_index,f=c.length;f>b;)c[b].remove_indent(),b++},this.trim=function(d){for(d=void 0===d?!1:d,this.current_line.trim(a,b);d&&c.length>1&&this.current_line.is_empty();)c.pop(),this.current_line=c[c.length-1],this.current_line.trim()},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===c.length)return!0;var a=c[c.length-2];return a.is_empty()}return!1}}function j(d,e,f){function r(){var t,u=[];if(l=0,m="",p>=q)return["","TK_EOF"];var v;v=o.length?o[o.length-1]:new i("TK_START_BLOCK","{");var w=d.charAt(p);for(p+=1;b(w,g);){if("\n"===w?(l+=1,u=[]):l&&(w===f?u.push(f):"\r"!==w&&u.push(" ")),p>=q)return["","TK_EOF"];w=d.charAt(p),p+=1}if(u.length&&(m=u.join("")),h.test(w)){var x=!0,y=!0,z=h;for("0"===w&&q>p&&/[Xx]/.test(d.charAt(p))?(x=!1,y=!1,w+=d.charAt(p),p+=1,z=/[0123456789abcdefABCDEF]/):(w="",p-=1);q>p&&z.test(d.charAt(p));)w+=d.charAt(p),p+=1,x&&q>p&&"."===d.charAt(p)&&(w+=d.charAt(p),p+=1,x=!1),y&&q>p&&/[Ee]/.test(d.charAt(p))&&(w+=d.charAt(p),p+=1,q>p&&/[+-]/.test(d.charAt(p))&&(w+=d.charAt(p),p+=1),y=!1,x=!1);return[w,"TK_WORD"]}if(a.isIdentifierStart(d.charCodeAt(p-1))){if(q>p)for(;a.isIdentifierChar(d.charCodeAt(p))&&(w+=d.charAt(p),p+=1,p!==q););return"TK_DOT"===v.type||"TK_RESERVED"===v.type&&b(v.text,["set","get"])||!b(w,k)?[w,"TK_WORD"]:"in"===w?[w,"TK_OPERATOR"]:[w,"TK_RESERVED"]}if("("===w||"["===w)return[w,"TK_START_EXPR"];if(")"===w||"]"===w)return[w,"TK_END_EXPR"];if("{"===w)return[w,"TK_START_BLOCK"];if("}"===w)return[w,"TK_END_BLOCK"];if(";"===w)return[w,"TK_SEMICOLON"];if("/"===w){var A="",B=!0;if("*"===d.charAt(p)){if(p+=1,q>p)for(;q>p&&("*"!==d.charAt(p)||!d.charAt(p+1)||"/"!==d.charAt(p+1))&&(w=d.charAt(p),A+=w,("\n"===w||"\r"===w)&&(B=!1),p+=1,!(p>=q)););return p+=2,B&&0===l?["/*"+A+"*/","TK_INLINE_COMMENT"]:["/*"+A+"*/","TK_BLOCK_COMMENT"]}if("/"===d.charAt(p)){for(A=w;"\r"!==d.charAt(p)&&"\n"!==d.charAt(p)&&(A+=d.charAt(p),p+=1,!(p>=q)););return[A,"TK_COMMENT"]}}if("`"===w||"'"===w||'"'===w||("/"===w||e.e4x&&"<"===w&&d.slice(p-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_RESERVED"===v.type&&b(v.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===v.type&&")"===v.text&&v.parent&&"TK_RESERVED"===v.parent.type&&b(v.parent.text,["if","while","for"])||b(v.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var C=w,D=!1,E=!1;if(t=w,"/"===C)for(var F=!1;q>p&&(D||F||d.charAt(p)!==C)&&!a.newline.test(d.charAt(p));)t+=d.charAt(p),D?D=!1:(D="\\"===d.charAt(p),"["===d.charAt(p)?F=!0:"]"===d.charAt(p)&&(F=!1)),p+=1;else if(e.e4x&&"<"===C){var G=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,H=d.slice(p-1),I=G.exec(H);if(I&&0===I.index){for(var J=I[2],K=0;I;){var L=!!I[1],M=I[2],N=!!I[I.length-1]||"![CDATA["===M.slice(0,8);if(M!==J||N||(L?--K:++K),0>=K)break;I=G.exec(H)}var O=I?I.index+I[0].length:H.length;return p+=O-1,[H.slice(0,O),"TK_STRING"]}}else for(;q>p&&(D||d.charAt(p)!==C&&("`"===C||!a.newline.test(d.charAt(p))));)t+=d.charAt(p),D?(("x"===d.charAt(p)||"u"===d.charAt(p))&&(E=!0),D=!1):D="\\"===d.charAt(p),p+=1;if(E&&e.unescape_strings&&(t=s(t)),q>p&&d.charAt(p)===C&&(t+=C,p+=1,"/"===C))for(;q>p&&a.isIdentifierStart(d.charCodeAt(p));)t+=d.charAt(p),p+=1;return[t,"TK_STRING"]}if("#"===w){if(0===o.length&&"!"===d.charAt(p)){for(t=w;q>p&&"\n"!==w;)w=d.charAt(p),t+=w,p+=1;return[c(t)+"\n","TK_UNKNOWN"]}var P="#";if(q>p&&h.test(d.charAt(p))){do w=d.charAt(p),P+=w,p+=1;while(q>p&&"#"!==w&&"="!==w);return"#"===w||("["===d.charAt(p)&&"]"===d.charAt(p+1)?(P+="[]",p+=2):"{"===d.charAt(p)&&"}"===d.charAt(p+1)&&(P+="{}",p+=2)),[P,"TK_WORD"]}}if("<"===w&&"<!--"===d.substring(p-1,p+3)){for(p+=3,w="<!--";"\n"!==d.charAt(p)&&q>p;)w+=d.charAt(p),p++;return n=!0,[w,"TK_COMMENT"]}if("-"===w&&n&&"-->"===d.substring(p-1,p+2))return n=!1,p+=2,["-->","TK_COMMENT"];if("."===w)return[w,"TK_DOT"];if(b(w,j)){for(;q>p&&b(w+d.charAt(p),j)&&(w+=d.charAt(p),p+=1,!(p>=q)););return","===w?[w,"TK_COMMA"]:"="===w?[w,"TK_EQUALS"]:[w,"TK_OPERATOR"]}return[w,"TK_UNKNOWN"]}function s(a){for(var g,b=!1,c="",d=0,e="",f=0;b||d<a.length;)if(g=a.charAt(d),d++,b){if(b=!1,"x"===g)e=a.substr(d,2),d+=2;else{if("u"!==g){c+="\\"+g;continue}e=a.substr(d,4),d+=4}if(!e.match(/^[0123456789abcdefABCDEF]+$/))return a;if(f=parseInt(e,16),f>=0&&32>f){c+="x"===g?"\\x"+e:"\\u"+e;continue}if(34===f||39===f||92===f)c+="\\"+String.fromCharCode(f);else{if("x"===g&&f>126&&255>=f)return a;c+=String.fromCharCode(f)}}else"\\"===g?b=!0:c+=g;return c}var g="\n\r   ".split(""),h=/[0-9]/,j="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => <%= <% %> <?= <? ?>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,yield,import,export".split(",");var l,m,n,o,p,q,k=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof"]);this.tokenize=function(){q=d.length,p=0,n=!1,o=[];for(var a,b,c,e=null,f=[],g=[];!b||"TK_EOF"!==b.type;){for(c=r(),a=new i(c[1],c[0],l,m);"TK_INLINE_COMMENT"===a.type||"TK_COMMENT"===a.type||"TK_BLOCK_COMMENT"===a.type||"TK_UNKNOWN"===a.type;)g.push(a),c=r(),a=new i(c[1],c[0],l,m);g.length&&(a.comments_before=g,g=[]),"TK_START_BLOCK"===a.type||"TK_START_EXPR"===a.type?(a.parent=b,e=a,f.push(a)):("TK_END_BLOCK"===a.type||"TK_END_EXPR"===a.type)&&e&&("]"===a.text&&"["===e.text||")"===a.text&&"("===e.text||"}"===a.text&&"}"===e.text)&&(a.parent=e.parent,e=f.pop()),o.push(a),b=a}return o}}var a={};!function(a){var c="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",d="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",e=new RegExp("["+c+"]"),f=new RegExp("["+c+d+"]");a.newline=/[\n\r\u2028\u2029]/,a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:a>=170&&e.test(String.fromCharCode(a))},a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:a>=170&&f.test(String.fromCharCode(a))}}(a);var e={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},i=function(a,b,c,d){this.type=a,this.text=b,this.comments_before=[],this.newlines=c||0,this.wanted_newline=c>0,this.whitespace_before=d||"",this.parent=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:d}}):"undefined"!=typeof exports?exports.js_beautify=d:"undefined"!=typeof window?window.js_beautify=d:"undefined"!=typeof global&&(global.js_beautify=d)}();
